# üéâ TalkMe –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è - –§–ò–ù–ê–õ–¨–ù–ê–Ø –ù–ê–°–¢–†–û–ô–ö–ê

## ‚úÖ –°—Ç–∞—Ç—É—Å: –ì–û–¢–û–í–û –ò –†–ê–ë–û–¢–ê–ï–¢

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å TalkMe API —É—Å–ø–µ—à–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∞.

## üìÅ –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:
- `integrations/talkme_integration.py` - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `services/talkme_api.py` - TalkMe API –∫–ª–∏–µ–Ω—Ç
- `start_talkme_integration.py` - –£–¥–æ–±–Ω—ã–π —Å–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
- `api.py` - –û—Å–Ω–æ–≤–Ω–æ–π API —Å–µ—Ä–≤–µ—Ä —Å TalkMe endpoints

### Endpoints:
- `POST /webhook/talkme` - –û—Å–Ω–æ–≤–Ω–æ–π webhook
- `GET /webhook/talkme/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `GET /webhook/talkme/stats` - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- `DELETE /webhook/talkme/session/{user_id}` - –û—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–∏
- `DELETE /webhook/talkme/sessions` - –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π

## üöÄ –ó–∞–ø—É—Å–∫

```bash
# –ü—Ä–æ—Å—Ç–æ–π –∑–∞–ø—É—Å–∫
python start_talkme_integration.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π API
python api.py
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ TalkMe

1. **Webhook URL**: `https://your-domain.com/webhook/talkme`
2. **–ú–µ—Ç–æ–¥**: POST
3. **Content-Type**: application/json

## üìä –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **TalkMe –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç webhook** —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
2. **–°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏—Ç –¥–∞–Ω–Ω—ã–µ** (token, user_id, message)
3. **AI-–∞–≥–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç** –∑–∞–ø—Ä–æ—Å —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∞–∑—ã –∑–Ω–∞–Ω–∏–π
4. **–û—Ç–≤–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** —á–µ—Ä–µ–∑ TalkMe API –æ–±—Ä–∞—Ç–Ω–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
5. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –æ—Ç–≤–µ—Ç** –≤ —á–∞—Ç–µ

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:8000/webhook/talkme/health

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl http://localhost:8000/webhook/talkme/stats

# –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π
curl -X DELETE http://localhost:8000/webhook/talkme/sessions
```

## ‚öôÔ∏è –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```env
# –í .env —Ñ–∞–π–ª–µ:
OPENAI_API_KEY=your_openai_key
TALKME_TEST_MODE=false  # false –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
```

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

‚úÖ **Webhook –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è** (200 OK)  
‚úÖ **AI-–∞–≥–µ–Ω—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã**  
‚úÖ **–û—Ç–≤–µ—Ç—ã –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ TalkMe**  
‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—é—Ç –æ—Ç–≤–µ—Ç—ã** –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏  

## üóÇÔ∏è –£–¥–∞–ª–µ–Ω—ã –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã

- ‚ùå `talkme_webhook.py` (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è)
- ‚ùå `talkme_handler.py` (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è)
- ‚ùå `run_talkme.py` (—Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è)
- ‚ùå `mock_talkme_server.py` (—Ç–µ—Å—Ç–æ–≤—ã–π)
- ‚ùå `test_*.py` (—Ç–µ—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã)
- ‚ùå `*.log` (–ª–æ–≥ —Ñ–∞–π–ª—ã)

**–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É! üöÄ**
