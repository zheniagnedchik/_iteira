# üéôÔ∏è TalkMe –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è –ò—Ç–µ–π—Ä–∞ - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

## üìã –û–±–∑–æ—Ä

–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π TalkMe –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–π —á–µ—Ä–µ–∑ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã–π –∫–∞–Ω–∞–ª —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI-–∞–≥–µ–Ω—Ç–∞ –ò—Ç–µ–π—Ä–∞.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üéôÔ∏è **–û–±—Ä–∞–±–æ—Ç–∫–∞ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∑–≤–æ–Ω–∫–æ–≤** —á–µ—Ä–µ–∑ TalkMe
- ü§ñ **AI-–∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç** —Å –±–∞–∑–æ–π –∑–Ω–∞–Ω–∏–π –ò—Ç–µ–π—Ä–∞
- üìû **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–æ–º–µ—Ä–æ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤** –∫–ª–∏–µ–Ω—Ç–æ–≤
- üíæ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤
- üîÑ **Retry –ª–æ–≥–∏–∫–∞** –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏
- üìä **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- üõ°Ô∏è **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫** –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚ö° **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### 1. –ó–∞–ø—É—Å–∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

```bash
# –ü—Ä–æ—Å—Ç–æ–π —Å–ø–æ—Å–æ–±
python start_talkme_integration.py

# –ò–ª–∏ —á–µ—Ä–µ–∑ –æ—Å–Ω–æ–≤–Ω–æ–π API
python api.py
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

```bash
# –¢–µ—Å—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
python test_talkme_integration_new.py

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:8000/webhook/talkme/health
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤ TalkMe

–£–∫–∞–∂–∏—Ç–µ webhook URL –≤ –ø–∞–Ω–µ–ª–∏ TalkMe:
```
https://your-domain.com/webhook/talkme
```

## üì° API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

| Method | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|----------|
| `POST` | `/webhook/talkme` | –û—Å–Ω–æ–≤–Ω–æ–π webhook –¥–ª—è –ø—Ä–∏–µ–º–∞ —Å–æ–æ–±—â–µ–Ω–∏–π |
| `GET` | `/webhook/talkme/health` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞ |
| `GET` | `/webhook/talkme/stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π |
| `DELETE` | `/webhook/talkme/session/{user_id}` | –û—á–∏—Å—Ç–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π —Å–µ—Å—Å–∏–∏ |
| `DELETE` | `/webhook/talkme/sessions` | –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π |

### –§–æ—Ä–º–∞—Ç webhook –∑–∞–ø—Ä–æ—Å–∞

```json
{
  "token": "your_api_token",
  "session_id": "unique_session_id",
  "user_id": "caller_id_or_user_id", 
  "client": {
    "clientId": "client_12345",
    "phone": "+1234567890"
  },
  "message": {
    "text": "—Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
  },
  "originalOnlineChatMessage": {
    "dialogId": "dialog_001"
  },
  "timestamp": "2024-01-01T12:00:00Z",
  "metadata": {}
}
```

### –§–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞

```json
{
  "success": true,
  "session_id": "unique_session_id",
  "message": "–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ",
  "end_conversation": false
}
```

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`:

```env
# TalkMe API
BASE_URL_TALKME=https://api.talkme.ru/

# OpenAI –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞
OPENAI_API_KEY=your_openai_api_key
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ config.py

```python
# Talk Me API
BASE_URL_TALKME = os.getenv("BASE_URL_TALKME", "https://api.talkme.ru/")

# OpenAI API
OPENAI_API_KEY = os.getenv("OPENAI_API_KEY")
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   TalkMe API    ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Webhook Handler ‚îÇ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  AI Agent       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                ‚îÇ                        ‚îÇ
                                ‚ñº                        ‚ñº
                       ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                       ‚îÇ  State Manager   ‚îÇ    ‚îÇ  Knowledge Base ‚îÇ
                       ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏

- **`integrations/talkme_integration.py`** - –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **`services/talkme_api.py`** - –ö–ª–∏–µ–Ω—Ç TalkMe API —Å retry –ª–æ–≥–∏–∫–æ–π
- **`agent/consultation_agent.py`** - AI-–∞–≥–µ–Ω—Ç –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç
- **`start_talkme_integration.py`** - –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞

## üîç –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ—Ç–ª–∞–¥–∫–∞

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

```bash
curl http://localhost:8000/webhook/talkme/stats
```

–û—Ç–≤–µ—Ç:
```json
{
  "total_sessions": 45,
  "active_sessions": 3,
  "messages_processed": 127,
  "errors": 2,
  "active_sessions_details": [
    {
      "user_id": "user_12345...",
      "messages_count": 5,
      "client_name": "–ê–Ω–Ω–∞",
      "phone_number": "+1234567890",
      "created_at": "2024-01-01T12:00:00",
      "last_activity": "2024-01-01T12:05:00"
    }
  ]
}
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤:
- `talkme_integration.log` - –ª–æ–≥–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- `api.log` - –æ–±—â–∏–µ –ª–æ–≥–∏ API

–£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
- `INFO` - –æ–±—ã—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- `WARNING` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏)
- `ERROR` - –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏

### –û—á–∏—Å—Ç–∫–∞ —Å–µ—Å—Å–∏–π

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å–µ—Å—Å–∏—é
curl -X DELETE http://localhost:8000/webhook/talkme/session/user_12345

# –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Å–µ—Å—Å–∏–∏
curl -X DELETE http://localhost:8000/webhook/talkme/sessions
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

```bash
python test_talkme_integration_new.py
```

–¢–µ—Å—Ç—ã –≤–∫–ª—é—á–∞—é—Ç:
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–∏—Å–∞
- ‚úÖ –ü–µ—Ä–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ (–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ)
- ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ –î–ª–∏–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –¢–µ—Å—Ç webhook
curl -X POST http://localhost:8000/webhook/talkme \
  -H "Content-Type: application/json" \
  -d '{
    "token": "test_token_12345",
    "session_id": "test_session_123",
    "user_id": "test_user_456",
    "client": {"phone": "+1234567890"},
    "message": {"text": "–ü—Ä–∏–≤–µ—Ç, —Ä–∞—Å—Å–∫–∞–∂–∏—Ç–µ –æ –≤–∞—à–∏—Ö —É—Å–ª—É–≥–∞—Ö"}
  }'
```

### Mock —Å–µ—Ä–≤–µ—Ä –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

```bash
python mock_talkme_server.py
```

–ó–∞–ø—É—Å–∫–∞–µ—Ç mock TalkMe API –Ω–∞ –ø–æ—Ä—Ç—É 5001 –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### Production –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ HTTPS** –¥–ª—è webhook URL
2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ reverse proxy** (nginx/Apache)
3. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis** –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –≤–º–µ—Å—Ç–æ –ø–∞–º—è—Ç–∏
4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** (Prometheus/Grafana)
5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ —Ñ–∞–π–ª—ã —Å —Ä–æ—Ç–∞—Ü–∏–µ–π

### Docker —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

```dockerfile
FROM python:3.9-slim

WORKDIR /app
COPY requirements.txt .
RUN pip install -r requirements.txt

COPY . .

EXPOSE 8000
CMD ["python", "start_talkme_integration.py"]
```

### Systemd —Å–µ—Ä–≤–∏—Å

```ini
[Unit]
Description=TalkMe Integration for Iteira
After=network.target

[Service]
Type=simple
User=iteira
WorkingDirectory=/opt/iteira
ExecStart=/opt/iteira/venv/bin/python start_talkme_integration.py
Restart=always
RestartSec=5

[Install]
WantedBy=multi-user.target
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

```python
# –í start_talkme_integration.py
uvicorn.run(
    app,
    host="0.0.0.0",
    port=8000,
    workers=4,  # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ worker –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
    loop="uvloop",  # –ë—ã—Å—Ç—Ä—ã–π event loop
    http="httptools"  # –ë—ã—Å—Ç—Ä—ã–π HTTP –ø–∞—Ä—Å–µ—Ä
)
```

### Limits –∏ timeouts

- **Message timeout**: 30 —Å–µ–∫—É–Ω–¥
- **API timeout**: 10 —Å–µ–∫—É–Ω–¥
- **Typing timeout**: 15 —Å–µ–∫—É–Ω–¥
- **Max message length**: 4000 —Å–∏–º–≤–æ–ª–æ–≤
- **Max retries**: 3 –ø–æ–ø—ã—Ç–∫–∏

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

**1. –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Ä—Ç
lsof -i :8000
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
tail -f talkme_integration.log
```

**2. TalkMe API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
python -c "from config import BASE_URL_TALKME; print(BASE_URL_TALKME)"
```

**3. –ê–≥–µ–Ω—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π
curl http://localhost:8000/knowledge-base/status
```

**4. –í—ã—Å–æ–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞**
- –£–≤–µ–ª–∏—á—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ workers
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redis –¥–ª—è —Å–æ—Å—Ç–æ—è–Ω–∏–π
- –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ –∑–∞–ø—Ä–æ—Å—ã –∫ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π

### –î–∏–∞–≥–Ω–æ—Å—Ç–∏—á–µ—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –°—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
curl http://localhost:8000/webhook/talkme/health

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl http://localhost:8000/webhook/talkme/stats

# –ü–æ–ª–Ω—ã–π —Ç–µ—Å—Ç
python test_talkme_integration_new.py
```

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- Rate limiting (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- HTTPS –¥–ª—è webhook URL

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

- –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ —Å load balancer
- Redis –¥–ª—è shared state
- Separate worker processes
- Message queue –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–µ—Ç—Ä–∏–∫

- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ—Å—Å–∏–π
- –í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏ –∏ CPU

---

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–∞–¥–µ–∂–Ω—ã–π –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏ –º–µ–∂–¥—É TalkMe –∏ AI-–∞–≥–µ–Ω—Ç–æ–º –ò—Ç–µ–π—Ä–∞. –°–∏—Å—Ç–µ–º–∞ —Å–ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∞ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ –ø—Ä–æ—Å—Ç–æ—Ç—ã –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è.

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –æ–±—Ä–∞—â–∞–π—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Å–∏—Å—Ç–µ–º—ã.
